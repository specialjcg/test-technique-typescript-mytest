<link
  rel="stylesheet"
  href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
  integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47"
  crossorigin="anonymous"
/>

<div class="pure-form pure-form-stacked left">
  <fieldset>
    <legend>UbilabTest</legend>

    <div class="pure-g">
      <div class="pure-u-1-4">
        <label for="idRecipients">Propriétaire</label>
        <input
          name="idOwner"
          class="pure-input-1"
          type="number"
          [(ngModel)]="selectedResultModel.idOwner"
        />
      </div>
      <div class="pure-u-1-24"></div>

      <div class="pure-u-1-4">
        <label for="contentOfResult">Contenu du résultat</label>
        <input
          name="contentOfResult"
          class="pure-input-1"
          type="text"
          [(ngModel)]="selectedResultModel.contentOfResult"
        />
      </div>
      <div class="pure-u-1-24"></div>

    </div>

    <button
      type="submit"
      class="pure-button pure-button-primary"
      (click)="allResult()"
    >
      Tous les résultats
    </button>
 <div class="pure-u-1-24"></div>
    <button
      type="submit"
      class="pure-button pure-button-primary"
      (click)="addresult()"
    >
      Ajouter un résultat
    </button>
     <div class="pure-u-1-24"></div>
    <button
      type="submit"
      class="pure-button pure-button-primary"
      (click)="allSeenResult()"
    >
      Tous les résultats VU
    </button>
     <div class="pure-u-1-24"></div>
    <button
      type="submit"
      class="pure-button pure-button-primary"
      (click)="allunSeenResult()"
    >
      Tous les résultats Non Vu
    </button>
  </fieldset>


<table class="pure-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>IdOwner</th>
      <th>idRecipients</th>
      <th>isSeen</th>
      <th>eventResults</th>
      <th>contentOfResult</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let result of listOfResult">
      <td>{{ result.id }}</td>
      <td>{{ result.idOwner }}</td>
      <td>{{ result.idRecipients.length }}</td>
      <td>
        <input
          name="seen"
          type="checkbox"
          [(ngModel)]="result.isSeen"
          (click)="checkSeen(result.id, result.isSeen)"
        /><span *ngIf="result.isSeen == true" name="seen">VU</span
        ><span *ngIf="result.isSeen == false" name="seen">Non VU</span>
      </td>
      <td>{{ result.eventResults.length }}</td>
      <td>{{ result.contentOfResult }}</td>
    </tr>
  </tbody>
</table>
</div>
<div class="pure-form pure-form-stacked right">
 <div class="pure-u-1-2 " >
        <label for="last-name">ajouter récipients</label>
        <a
          class="pure-button"
          href="#"
          style="color: green;"
          (click)="addRecipient()"
        >
          <i class="fas fa-plus-circle"></i>
        </a>
        <form ngNoForm>
          <div
            *ngFor="let item of selectedResultModel.idRecipients; let i = index"
            class="pure-u-1-4"
          >
            <input
            class="pure-u-1-1"
              name="name"
              [(ngModel)]="selectedResultModel.idRecipients[i]"
              type="number"
            />

            <a
              class="pure-button"
              href="#"
              style="color: Tomato;"
              (click)="removeRecipient(i)"
            >
              <i class="fas fa-minus-circle"></i>
            </a>

          </div>
        </form>
      </div>
</div>
